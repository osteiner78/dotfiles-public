[Unit]
PartOf=hypr-apps.target
Wants=graphical-session.target
After=graphical-session.target

[Service]
# Wait until the Wayland socket exists (mirrors your hypridle guard)
ExecStartPre=/usr/bin/bash -lc 'for i in {1..50}; do test -n "$WAYLAND_DISPLAY" && test -S "$XDG_RUNTIME_DIR/$WAYLAND_DISPLAY" && exit 0; sleep 0.1; done; echo "Wayland not ready"; exit 1'
Environment=XDG_CURRENT_DESKTOP=Hyprland

[Install]
WantedBy=hypr-apps.target
